Утилита для парсинга bag-файлов.
=====================

Параметры:
-----------------------------------

1. file - путь к bag файлу;
2. folder - путь к папке, в которую записать результат;
3. format - формат парсинга, допустимые значения: xml (по умолчанию), json, txt;

Пример запуска:
-----------------------------------
python bag_parser.py --file=bag_files/test.bag --folder=info --format=xml

Добавление новых обработчиков
-----------------------------------

Для добавления обработки нового типа сообщения необходимо в файл parsers.py добавить функцию обработки данного сообщения. Она принимает 3 параматра:
* msg - объект сообщения;
* msg_date_time - дата и время сообщения (в фомате год-месяц-день часы:минуты:секунды);
* result_folder - папка, в котороую пользователь указал записать результат.

Функция должна возвращать словать из двух ключей (оба ключа обязательны):
* folder - имя папки (строка), в которую записывать сообщения данного типа (в ней создастся файл data, в который будут записываться все сообщения данного типа);
* data - словарь с данными. Ключ - строка (заголовок значения). Значение ключа может быть строкой или словарём. Если в xml-файле значение ключа должно быть атрибутом, то его имя должно начинаться с двойного подчёркивания.

В файле имеются готовые функции обработки вложенных типов сообщений. Они возвращают словарь. Пример:
* parse_std_msgs_header
* parse_sensor_msgs_region_of_interest
* parse_geometry_msgs_quaternion
* parse_geometry_msgs_vector3

Пример функции:
```python
def parse_sensor_msgs_magnetic_field(msg, msg_date_time, result_folder):
    return {
        'folder': os.path.join(result_folder, 'sensor_msgs_magnetic_field'),
        'data': {
            'date_time': msg_date_time,
            'header': parse_std_msgs_header(msg.header),
            'magnetic_field': parse_geometry_msgs_vector3(msg.magnetic_field),
            'magnetic_field_covariance': str(list(msg.magnetic_field_covariance)),
        }
    }
```
После этого необходимо добавить созданную функцию в словарь parse_functions. Ключ - md5 хеш сообщения, которое должна обрабатывать данная функция. Значение - имя функции.

